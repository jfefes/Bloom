<%= link_to 'Back to Admin', admin_path, class: "btn btn-danger" %>

<p id="notice"><%= notice %></p>

<h1>Listing Page Components</h1>

<div class="row">
  <div class="col-sm-2">
    <h4>Page Handle</h4>
  </div>
  <div class="col-sm-2">
    <h4>Component name</h4>
  </div>
  <div class="col-sm-2">
    <h4>Props</h4>
  </div>
</div>

<% @page_components.each do |page_component| %>
  <div class="row well">
    <div class="col-sm-2"><%= page_component.page.slug %></div>
    <div class="col-sm-2"><%= page_component.react_component.nickname %></div>

    <div class="col-sm-2">
      <% page_component.component_content.each do |content| %>
        <%= content.name %> <%= link_to 'Edit', edit_component_content_path(content), class:"btn btn-info"  %> <br>
      <% end %>
    </div>

    <!-- <div class="col-sm-2"><%= link_to 'Show', page_component, class:"btn btn-primary"  %></div> -->
    <div class="col-sm-2"><%= link_to 'Edit', edit_page_component_path(page_component), class:"btn btn-primary"  %></div>
    <div class="col-sm-2"><%= link_to 'Destroy', page_component, method: :delete, data: { confirm: 'Are you sure?' }, class:"btn btn-primary"  %></div>
  </div>
<% end %>

<br>

<%= link_to 'New Page component', new_page_component_path %>
